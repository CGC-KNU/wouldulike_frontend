// android/build.gradle  (root)

// ğŸ”¹ ì‹ í˜• êµ¬ì¡°ì—ì„œëŠ” buildscript/classpath, allprojects ì œê±°
//    ë¦¬í¬ì§€í† ë¦¬/í”ŒëŸ¬ê·¸ì¸ ê´€ë¦¬ëŠ” settings.gradleì˜ pluginManagement / dependencyResolutionManagementê°€ ë‹´ë‹¹

ext.flutter = [
        compileSdkVersion: 35,
        minSdkVersion    : 29,
        targetSdkVersion : 35
]

rootProject.buildDir = "../build"

subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
    
    repositories {
        google()
        mavenCentral()
        maven { url "https://devrepo.kakao.com/nexus/content/groups/public/" }
    }
    
    afterEvaluate {
        if (project.hasProperty('android')) {
            android {
                compileOptions {
                    sourceCompatibility JavaVersion.VERSION_17
                    targetCompatibility JavaVersion.VERSION_17
                }
            }
        }
        
        // Kotlin JVM íƒ€ê²Ÿ ì„¤ì •
        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {
            kotlinOptions {
                jvmTarget = "17"
            }
        }
    }
}

tasks.register("clean", Delete) {
    delete rootProject.buildDir
}
